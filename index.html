<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CapyUniverse: IA para Inovação Digital</title>
  <meta name="description" content="CapyUniverse, plataforma de IA criada por Rafael Scarpato, oferece soluções criativas, produtivas e educacionais para profissionais e entusiastas da inovação digital.">
  <meta name="keywords" content="CapyUniverse, IA, inteligência artificial, inovação digital, Rafael Scarpato, ferramentas, produtividade, criatividade, educação">
  <meta name="author" content="Rafael Scarpato">
  <meta name="robots" content="index, follow">
  <meta property="og:title" content="CapyUniverse: IA para Inovação Digital">
  <meta property="og:description" content="CapyUniverse, plataforma de IA criada por Rafael Scarpato, oferece soluções criativas, produtivas e educacionais para profissionais e entusiastas da inovação digital.">
  <meta property="og:image" content="https://faelscarpato.github.io/capyuniverse/img/capyuniverse.png">
  <meta property="og:url" content="https://faelscarpato.github.io/capyuniverse/index.html">
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="CapyUniverse IA">
  <meta name="twitter:title" content="CapyUniverse: IA para Inovação Digital">
  <meta name="twitter:description" content="CapyUniverse, plataforma de IA criada por Rafael Scarpato, oferece soluções criativas, produtivas e educacionais para profissionais e entusiastas da inovação digital.">
  <meta name="twitter:image" content="https://faelscarpato.github.io/capyuniverse/img/capyuniverse.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:creator" content="@rafaelscarpato">
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800&display=swap" rel="stylesheet"/>
  <link rel="manifest" href="manifest.webmanifest">
<meta name="theme-color" content="#9333ea">
<link rel="icon" type="image/png" href="icons/icon-192.png">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #18032c;
      color: #e5e7eb;
    }
    .parallax-bg {
      background: linear-gradient(135deg, #200229 0%, #200229 100%);
      min-height: 100vh;
      position: relative;
    }
    .glow {
      box-shadow: 0 0 60px 10px #d946ef80, 0 0 160px 30px #fbbf24a0;
      filter: blur(0.5px);y
    }
    .floating-hero {
      animation: floatyHero 3s ease-in-out infinite alternate;
    }
    @keyframes floatyHero {
      from { transform: translateY(0px); }
      to   { transform: translateY(-20px); }
    }
    .card-float {
        animation: floatyCard 3s ease-in-out infinite alternate;
    }
    @keyframes floatyCard {
        from { transform: translateY(0px); }
        to   { transform: translateY(-8px); } 
    }
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: #1f2937; }
    ::-webkit-scrollbar-thumb { background: #a200ff; border-radius: 4px; }
    ::-webkit-scrollbar-thumb:hover { background: #6b7280; }
    select {
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
        background-position: right 0.5rem center;
        background-repeat: no-repeat;
        background-size: 1.5em 1.5em;
        padding-right: 2.5rem;
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
    }
    #no-tools-message {
        text-align: center;
        font-size: 1.25rem; 
        color: #9ca3af; 
        margin-top: 2rem; 
        padding: 2rem; 
        background-color: #374151; 
        border-radius: 0.75rem; 
    }

    /* Modal Styles */
    .modal-overlay-bg { /* Classe específica para o fundo escuro do modal */
        transition: opacity 0.3s ease-in-out;
    }
    .modal-content {
        transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out;
    }
    .modal-hidden {
        opacity: 0;
        pointer-events: none;
    }
    .modal-hidden .modal-overlay-bg {
        opacity: 0;
    }
    .modal-hidden .modal-content {
        opacity: 0;
        transform: translateY(-20px) scale(0.95);
    }
   
    .modal-visible .modal-overlay-bg {
        opacity: 0.9;
    }
    .modal-visible .modal-content {
        opacity: 1;
        transform: translateY(0) scale(1);
    }

  .logo {
    width: 100%;
    height: auto;
    max-width: 200px;
    margin: 0 auto;
  }
  
  .carrossel-container {
    position: relative;
    max-width: 100%;
    overflow: hidden;
    border-radius: 1.5rem; 
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }
  
  .carrossel {
    position: relative; 
    width: 100%; 
    transition: height 0.4s ease-in-out; 
  }
  
  .carrossel-slide {
    transition: opacity 0.7s ease-in-out; 
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%; 
    padding: 1.5rem; 
    box-sizing: border-box;
    pointer-events: none; 
    z-index: 1; 
  }
  
  .carrossel-slide.active {
    opacity: 1;
    pointer-events: auto; 
    z-index: 2; 
  }
  
  .carrossel-dots {
    position: absolute;
    bottom: 1.5rem; 
    left: 0;
    right: 0;
    display: flex;
    justify-content: center;
    gap: 0.75rem; 
    z-index: 10;
  }
  
  .dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.5);
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .dot.active {
    background: #f59e0b; 
    transform: scale(1.2);
  }
    #notificationArea {
        position: fixed;
        top: 1.25rem; 
        right: 1.25rem; 
        z-index: 1000; 
        display: flex;
        flex-direction: column;
        gap: 0.5rem; 
        width: 100%;
        max-width: 24rem; 
    }
    .notification {
        padding: 1rem; 
        border-radius: 0.5rem; 
        box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05); 
        font-size: 0.875rem; 
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: all 0.3s ease-in-out;
        opacity: 0;
        transform: translateX(100%);
    }
    .notification.show {
        opacity: 1;
        transform: translateX(0);
    }
    .notification-success {
        background-color: #10b981; 
        color: white;
    }
    .notification-error {
        background-color: #ef4444; 
        color: white;
    }
    .notification-info {
        background-color: #3b82f6; 
        color: white;
    }
    .notification-warning {
        background-color: #f59e0b; 
        color: #1f2937; 
    }
    .notification button {
        margin-left: 0.75rem; 
        font-weight: bold;
        font-size: 1.125rem; 
        line-height: 1;
        background: none;
        border: none;
        color: inherit; 
        cursor: pointer;
    }
  </style>
</head>
<body class="text-gray-100">

  <div id="notificationArea">
    </div>

  <div class="parallax-bg flex items-center justify-center relative py-16 px-4 min-h-screen">
    <div class="absolute top-0 left-0 w-full h-full pointer-events-none z-0">
      <div class="absolute -top-24 left-1/3 w-72 h-72 md:w-96 md:h-96 rounded-full glow bg-fuchsia-400 opacity-25"></div>
      <div class="absolute top-24 right-1/4 w-56 h-56 md:w-64 md:h-64 rounded-full glow bg-yellow-400 opacity-25"></div>
      <div class="absolute bottom-0 left-1/2 w-60 h-60 md:w-72 md:h-72 rounded-full glow bg-sky-400 opacity-20"></div>
    </div>
    
    <div class="relative z-10 w-full max-w-7xl mx-auto px-4">
      <div class="flex flex-col lg:flex-row items-center lg:items-stretch gap-8">
        <div class="w-full lg:w-5/12 flex flex-col justify-center text-center lg:text-left">
          <div class="inline-flex items-center justify-center bg-gray-900/60 rounded-full p-3 mb-6 shadow-xl border-2 border-yellow-400 lg:mx-0 mx-auto w-24 h-24 md:w-28 md:h-28">
            <img src="img/logo.png" class="w-full h-full object-contain" alt="Logo CapyUniverse" onerror="this.onerror=null;this.src='img/logo.png';">
          </div>
          <h1 class="text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold mb-6 bg-gradient-to-r from-fuchsia-400 via-yellow-400 to-sky-400 bg-clip-text text-transparent">
            CapyUniverse IA
          </h1>
          <p class="text-xl sm:text-2xl text-gray-300 mb-8 max-w-2xl lg:max-w-none">
            Potencialize sua produtividade e aprendizado com nossas ferramentas de IA
            <span class="block font-bold text-yellow-400 mt-2">Descubra o poder da inteligência artificial hoje mesmo</span>
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start mb-8">
            <a href="#ferramentas" class="px-8 py-4 rounded-xl font-semibold bg-gradient-to-r from-fuchsia-500 to-yellow-400 text-gray-900 shadow-lg hover:scale-105 transition-all duration-300 text-center">
              Explorar Ferramentas
            </a>
             <button id="openManageApiKeyModalButton" class="px-8 py-4 rounded-xl font-semibold bg-sky-600 hover:bg-sky-700 text-white shadow-lg hover:scale-105 transition-all duration-300 text-center">
              Configurar Chave API
            </button>
          </div>
        </div>
        
        <div class="w-full lg:w-7/12 hidden lg:block"> 
          <div class="carrossel-container w-full">
            <div class="carrossel">
              <div class="carrossel-slide active">
                <div class="flex flex-col md:flex-row items-center justify-between gap-8 p-6 md:p-8 bg-gradient-to-br from-blue-900/50 to-sky-900/50 rounded-2xl border border-blue-500/30 shadow-xl">
                  <div class="flex-1 text-center md:text-left">
                    <div class="inline-flex items-center mb-4 px-4 py-2 rounded-full bg-blue-500/20 text-blue-300 text-sm font-medium">
                      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                      Em Destaque
                    </div>
                    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-4">CapyResumo</h2>
                    <p class="text-lg text-gray-300 mb-6">Resuma qualquer texto, artigo ou documento em segundos com nossa IA avançada. Economize tempo e aprenda de forma mais eficiente.</p>
                    <div class="flex flex-wrap gap-3 mb-6 justify-center md:justify-start">
                      <span class="px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm">Resumos Rápidos</span>
                      <span class="px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm">Análise de Texto</span>
                      <span class="px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full text-sm">IA Avançada</span>
                    </div>
                    <a href="capyresumo.html" class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-blue-500 to-sky-500 text-white font-medium rounded-lg hover:opacity-90 transition-opacity">
                      Experimentar Agora <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                    </a>
                  </div>
                  <div class="flex-1"><div class="bg-gray-800/50 p-6 rounded-xl border border-gray-700"><div class="text-left p-4 bg-gray-900/50 rounded-lg mb-4"><p class="text-gray-400 text-sm mb-1">Exemplo de resumo:</p><p class="text-blue-300 font-medium">"A IA revolucionou a forma como processamos informações, permitindo análises complexas em segundos que antes levariam horas ou dias."</p></div><div class="h-2 bg-gray-700 rounded-full overflow-hidden"><div class="h-full bg-gradient-to-r from-blue-500 to-sky-500 rounded-full w-3/4"></div></div><p class="text-xs text-gray-400 mt-2 text-right">75% mais conciso</p></div></div>
                </div>
              </div>
              
              <div class="carrossel-slide">
                <div class="flex flex-col md:flex-row items-center justify-between gap-8 p-6 md:p-8 bg-gradient-to-br from-yellow-900/50 to-amber-900/50 rounded-2xl border border-yellow-500/30 shadow-xl">
                  <div class="flex-1 text-center md:text-left">
                    <div class="inline-flex items-center mb-4 px-4 py-2 rounded-full bg-yellow-500/20 text-yellow-300 text-sm font-medium">
                      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                      Exclusivo
                    </div>
                    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-4">CapyExplica</h2>
                    <p class="text-lg text-gray-300 mb-6">Entenda conceitos complexos de forma simples e didática. Nossa IA explica qualquer tópico com clareza e profundidade.</p>
                    <div class="flex flex-wrap gap-3 mb-6 justify-center md:justify-start">
                      <span class="px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm">Explicações Claras</span>
                      <span class="px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm">Didática</span>
                      <span class="px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full text-sm">Aprendizado</span>
                    </div>
                    <a href="capyexplica.html" class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-yellow-500 to-amber-500 text-gray-900 font-medium rounded-lg hover:opacity-90 transition-opacity">
                      Explicar Agora <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path></svg>
                    </a>
                  </div>
                  <div class="flex-1"><div class="bg-gray-800/50 p-6 rounded-xl border border-gray-700"><div class="text-left p-4 bg-gray-900/50 rounded-lg mb-4"><p class="text-gray-400 text-sm mb-1">Pergunte:</p><p class="text-yellow-300 font-medium">"O que é inteligência artificial?"</p></div><div class="h-2 bg-gray-700 rounded-full overflow-hidden"><div class="h-full bg-gradient-to-r from-yellow-500 to-amber-500 rounded-full w-4/5"></div></div><p class="text-xs text-gray-400 mt-2 text-right">Resposta em 2s</p></div></div>
                </div>
              </div>
              
              <div class="carrossel-slide">
                <div class="flex flex-col md:flex-row items-center justify-between gap-8 p-6 md:p-8 bg-gradient-to-br from-purple-900/50 to-fuchsia-900/50 rounded-2xl border border-purple-500/30 shadow-xl">
                  <div class="flex-1 text-center md:text-left">
                     <div class="inline-flex items-center mb-4 px-4 py-2 rounded-full bg-purple-500/20 text-purple-300 text-sm font-medium">
                       <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.5 15.5L12 18l6-6-3-3-3 3-1.5-1.5L9.5 12l-3 3L9.5 18l-3-3L9.5 12l3 3L18 9l-6 6-2.5-2.5L6 16l3.5-3.5z"></path></svg> Popular
                    </div>
                    <h2 class="text-2xl sm:text-3xl md:text-4xl font-bold text-white mb-4">CapyFlashcards</h2>
                    <p class="text-lg text-gray-300 mb-6">Crie flashcards para estudar qualquer assunto. Nossa IA gera cartões de estudo personalizados para maximizar seu aprendizado.</p>
                    <div class="flex flex-wrap gap-3 mb-6 justify-center md:justify-start">
                      <span class="px-3 py-1 bg-purple-500/20 text-purple-300 rounded-full text-sm">Estudo Ativo</span>
                      <span class="px-3 py-1 bg-purple-500/20 text-purple-300 rounded-full text-sm">Memorização</span>
                      <span class="px-3 py-1 bg-purple-500/20 text-purple-300 rounded-full text-sm">Revisão Espaçada</span>
                    </div>
                    <a href="capyflashcards.html" class="inline-flex items-center px-6 py-3 bg-gradient-to-r from-purple-500 to-fuchsia-500 text-white font-medium rounded-lg hover:opacity-90 transition-opacity">
                      Criar Flashcards <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                    </a>
                  </div>
                  <div class="flex-1"><div class="relative h-64 bg-gray-800/50 rounded-xl border-2 border-dashed border-purple-500/30 flex items-center justify-center p-4"><div class="absolute w-11/12 h-40 bg-gray-900/50 rounded-lg border border-purple-500/50 p-4 transform rotate-2 -translate-y-3 -translate-x-1 shadow-lg"><p class="text-purple-300 font-medium mb-2">O que é Machine Learning?</p><p class="text-sm text-gray-400">Clique para ver a resposta</p></div><div class="absolute w-11/12 h-40 bg-gray-900/50 rounded-lg border border-purple-500/50 p-4 transform -rotate-2 translate-y-3 translate-x-1 shadow-lg"><p class="text-purple-300 font-medium mb-2">R: Um subcampo da IA que permite aos sistemas aprenderem com dados.</p><div class="flex gap-2 mt-4"><button class="text-xs px-3 py-1 bg-red-500/20 text-red-300 rounded-full">Errei</button><button class="text-xs px-3 py-1 bg-yellow-500/20 text-yellow-300 rounded-full">Quase</button><button class="text-xs px-3 py-1 bg-green-500/20 text-green-300 rounded-full">Fácil</button></div></div></div></div>
                </div>
              </div>
            </div>
            
            <div class="carrossel-dots">
              <span class="dot active" data-slide="0"></span>
              <span class="dot" data-slide="1"></span>
              <span class="dot" data-slide="2"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <section class="max-w-7xl mx-auto px-4 py-10">
    <div class="bg-gray-800/70 p-6 rounded-xl shadow-xl mb-12">
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6 items-end">
        <div>
          <label for="search-input" class="block text-sm font-medium text-gray-300 mb-1">Buscar Ferramenta</label>
          <input type="text" id="search-input" placeholder="Nome, categoria ou serviço..." class="w-full bg-gray-700 border border-gray-600 text-gray-200 placeholder-gray-400 rounded-lg p-3 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition duration-150 ease-in-out">
        </div>
        <div>
          <label for="category-select" class="block text-sm font-medium text-gray-300 mb-1">Filtrar por Categoria</label>
          <select id="category-select" class="w-full bg-gray-700 border border-gray-600 text-gray-200 rounded-lg p-3 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition duration-150 ease-in-out">
            <option value="">Todas as Categorias</option>
          </select>
        </div>
      </div>
    </div>
  </section>

  <section id="ferramentas" class="max-w-7xl mx-auto px-4 pb-20">
    <div id="tools-grid" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6">
    </div>
    <div id="no-tools-message" class="hidden">Nenhuma ferramenta encontrada com os critérios selecionados.</div>
  </section>

  <footer class="relative text-center mt-8 py-10 px-4 bg-gradient-to-tr from-fuchsia-950/80 via-gray-900/90 to-yellow-900/50 rounded-t-3xl shadow-2xl">
    <h2 class="text-2xl font-extrabold mb-2 bg-gradient-to-r from-fuchsia-400 via-yellow-400 to-sky-400 bg-clip-text text-transparent drop-shadow-2xl">Entre no CapyUniverse agora</h2>
    <p class="text-gray-400 mb-4 max-w-xl mx-auto">Deixe a IA fazer o pesado. Desbloqueie sua criatividade, produtividade e aprendizado em outro nível.</p>
    <a href="#ferramentas" class="inline-block px-8 py-3 rounded-xl font-semibold bg-gradient-to-r from-fuchsia-500 to-yellow-400 text-gray-900 shadow-lg hover:scale-105 transition-transform duration-300">Começar de Graça</a>
    <p class="text-gray-600 mt-8 text-xs">&copy; <span id="current-year"></span> CapyUniverse IA • Feito para insanos como você.</p>
  </footer>

  <div id="toolModal" class="fixed inset-0 flex items-center justify-center z-50 p-4 modal-hidden">
    <div class="absolute inset-0 bg-black modal-overlay-bg opacity-50"></div>
    <div class="modal-content bg-gray-800 p-6 rounded-lg shadow-xl w-full max-w-md relative transform transition-all">
      <button id="closeToolModalButton" class="absolute top-3 right-3 text-gray-400 hover:text-gray-200 transition-colors" aria-label="Fechar modal">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
      </button>
      <div class="flex items-center mb-4">
        <div id="modalIconContainer" class="w-12 h-12 rounded-full flex items-center justify-center mr-4 text-3xl shadow-inner"></div>
        <h2 id="modalToolName" class="text-2xl font-bold text-gray-100">Nome da Ferramenta</h2>
      </div>
      <p id="modalToolCategory" class="text-sm text-gray-400 mb-1">Categoria</p>
      <p id="modalToolDescription" class="text-gray-300 mb-6">Descrição detalhada da ferramenta aparecerá aqui.</p>
      <a id="modalToolLink" href="#" target="_blank" class="w-full text-center block px-6 py-3 rounded-lg font-semibold text-gray-900 shadow-lg hover:scale-105 transition-transform duration-300">
        Acessar IA &rarr;
      </a>
    </div>
  </div>

  <div id="manageApiKeysModal" class="fixed inset-0 flex items-center justify-center z-[51] p-4 modal-hidden">
    <div class="absolute inset-0 bg-black modal-overlay-bg opacity-75"></div>
    <div class="modal-content bg-gray-800 p-6 md:p-8 rounded-lg shadow-xl w-full max-w-2xl relative transform transition-all max-h-[90vh] overflow-y-auto">
        <button id="closeManageApiKeysModalButton" class="absolute top-4 right-4 text-gray-400 hover:text-gray-200 transition-colors" aria-label="Fechar modal de gerenciamento de API">
            <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
        </button>
        <h2 class="text-2xl md:text-3xl font-bold text-sky-400 mb-6 text-center">Gerenciar Chave API e Tutorial</h2>
        
        <div class="mb-8 p-4 bg-gray-700/50 rounded-lg border border-gray-600/50">
            <label for="geminiApiKeyInputModal" class="block text-sm font-medium text-gray-300 mb-2">Sua Chave API Google Gemini:</label>
            <div class="flex items-center space-x-2 mb-2">
              <input type="password" id="geminiApiKeyInputModal" placeholder="Cole sua chave API aqui" class="flex-grow p-3 bg-gray-600 text-gray-200 border border-gray-500 rounded-md focus:ring-2 focus:ring-sky-500 focus:border-sky-500 shadow-sm text-sm">
              <button id="saveApiKeyButtonModal" class="px-4 py-3 bg-sky-500 hover:bg-sky-600 text-white font-semibold rounded-md text-sm transition-colors">Salvar</button>
            </div>
            <p class="text-xs text-gray-400">Sua chave é salva localmente no seu navegador e não é enviada para nossos servidores.</p>
        </div>

        <div class="space-y-6 text-gray-300 text-sm md:text-base">
            <h3 class="text-xl font-semibold text-sky-300 mb-3 border-b border-gray-700 pb-2">Como Obter sua Chave API do Google Gemini</h3>
            <p>Para utilizar todas as funcionalidades do CapyUniverse IA, você precisará de uma Chave API do Google Gemini. O Gemini 1.5 Flash, que usamos, oferece um <strong class="text-yellow-400">nível gratuito generoso</strong>.</p>
            
            <div>
                <h4 class="font-semibold text-sky-300 mb-2 text-md">Passo 1: Acesse o Google AI Studio</h4>
                <p class="mb-2">Se você ainda não tem uma conta Google, precisará criar uma. Depois, acesse o Google AI Studio:</p>
                <a href="https://aistudio.google.com/app/apikey" target="_blank" rel="noopener noreferrer" class="inline-block px-5 py-2 bg-sky-500 hover:bg-sky-600 text-white font-semibold rounded-md text-sm transition-colors shadow-md">
                    Ir para Google AI Studio &rarr;
                </a>
                <p class="text-xs text-gray-400 mt-1">(Abrirá em uma nova aba)</p>
            </div>

            <div>
                <h4 class="font-semibold text-sky-300 mb-2 text-md">Passo 2: Crie ou Selecione um Projeto</h4>
                <p>No Google AI Studio, você pode ser solicitado a criar um novo projeto ou selecionar um existente. Siga as instruções na tela. Geralmente, um projeto padrão é suficiente.</p>
            </div>

            <div>
                <h4 class="font-semibold text-sky-300 mb-2 text-md">Passo 3: Gere sua Chave API</h4>
                <ul class="list-disc list-inside space-y-2 pl-4">
                    <li>Procure pela opção <strong class="text-yellow-400">"Get API key"</strong> ou <strong class="text-yellow-400">"Criar chave API"</strong>.</li>
                    <li>Clique em <strong class="text-yellow-400">"Create API key in new project"</strong> (ou similar, se já tiver um projeto, pode haver uma opção para usar um existente).</li>
                    <li>Siga as instruções para nomear seu projeto, se necessário.</li>
                    <li>Após a criação, sua chave API será exibida. Ela será uma longa sequência de letras e números.</li>
                </ul>
                <div class="mt-3 p-3 bg-gray-700/50 rounded-md border border-gray-600">
                    <p class="text-xs text-gray-400">Exemplo de como a chave se parece (NÃO USE ESTA CHAVE):</p>
                    <code class="block text-yellow-300 text-xs break-all mt-1">AIzaSyB...muitoMaisCaracteres...X0Y1Z2</code>
                </div>
            </div>

            <div>
                <h4 class="font-semibold text-sky-300 mb-2 text-md">Passo 4: Copie e Cole sua Chave API</h4>
                <ul class="list-disc list-inside space-y-2 pl-4">
                    <li>Clique no botão para <strong class="text-yellow-400">copiar sua chave API</strong>.</li>
                    <li>Volte para esta página do CapyUniverse IA (dentro deste modal).</li>
                    <li>Cole a chave no campo "Sua Chave API Google Gemini" acima.</li>
                    <li>Clique em "Salvar".</li>
                </ul>
            </div>

            <div>
                <h4 class="font-semibold text-sky-300 mb-2 text-md">Importante:</h4>
                <ul class="list-disc list-inside space-y-2 pl-4 text-gray-400">
                    <li>Guarde sua chave API em um local seguro. Não a compartilhe publicamente.</li>
                    <li>O uso da API está sujeito aos termos de serviço e políticas de uso do Google.</li>
                </ul>
            </div>
            <button id="gotItManageApiKeysButton" class="mt-8 w-full bg-gradient-to-r from-fuchsia-500 to-yellow-400 text-gray-900 font-semibold py-3 px-6 rounded-lg shadow-md hover:scale-105 transition-transform">
                Entendi, fechar
            </button>
        </div>
    </div>
</div>


  <script>
    // --- Data for Tools ---
    const toolsData = [
      { name: "CapyResumo", category: "Análise e compreensão de texto", description: "Faça resumos inteligentes de qualquer texto, artigo ou documento.", icon: "📝", link: "capyresumo.html", color: "fuchsia", imageSrc: "img/capyresumo.webp" },
      { name: "CapyExplica", category: "Análise e compreensão de texto", description: "Explique conteúdos difíceis em linguagem simples e didática.", icon: "💡", link: "capyexplica.html", color: "yellow", imageSrc: "img/CapyExplica.webp" },
      { name: "CapyDetector", category: "Análise e compreensão de texto", description: "Descubra se um texto foi escrito por humano ou IA.", icon: "🤖", link: "capydetector.html", color: "sky", imageSrc: "img/CapyDetector.webp" },
      { name: "CapyEmail", category: "Criação e Edição de Conteúdo", description: "Crie e-mails profissionais e personalizados em segundos.", icon: "✉️", link: "capyemail.html", color: "pink", imageSrc: "img/CapyEmail.webp" },
      { name: "CapyTone", category: "Criação e Edição de Conteúdo", description: "Ajuste o tom e estilo de seus textos com facilidade.", icon: "🎶", link: "capytone.html", color: "rose", imageSrc: "img/CapyTone.webp" },
      { name: "CapyEscritor", category: "Criação e Edição de Conteúdo", description: "Assistente de escrita para blogs, artigos e mais.", icon: "✍️", link: "capyescritor.html", color: "teal", imageSrc: "img/CapyEscritor.webp" },
      { name: "CapyPrompt", category: "Criação e Edição de Conteúdo", description: "Gerador de nomes criativos para projetos e empresas.", icon: "🏷️", link: "capyprompt.html", color: "cyan", imageSrc: "img/CapyPrompt.webp" },
      { name: "CapyDirector", category: "Criação e Edição de Conteúdo", description: "Crie roteiros e scripts para vídeos e apresentações.", icon: "🎬", link: "capydirector.html", color: "orange", imageSrc: "img/CapyDirector.webp" },
      { name: "CapyCriativo", category: "Criação e Edição de Conteúdo", description: "Gere ideias inovadoras e soluções criativas.", icon: "✨", link: "capyicriativo.html", color: "amber", imageSrc: "img/CapyCriativo.webp" },
      { name: "CapyDoc", category: "Documentos e PDF", description: "Analise e interaja com seus documentos PDF de forma inteligente.", icon: "📄", link: "capydoc.html", color: "blue", imageSrc: "img/CapyDoc.webp" },
      { name: "CapyVagaMatch", category: "Documentos e PDF", description: "Combine seu currículo com vagas de emprego ideais.", icon: "🎯", link: "capyvagamatch.html", color: "green", imageSrc: "img/CapyVagaMatch.webp" },
      { name: "CapyPDF", category: "Documentos e PDF", description: "Ferramentas completas para edição e conversão de PDFs.", icon: "📑", link: "capypdf.html", color: "indigo", imageSrc: "img/CapyPDF.webp" },
      { name: "CapyChat", category: "Chatbots Personalizados", description: "Crie chatbots personalizados para diversas finalidades.", icon: "💬", link: "CapyChat.html", color: "purple", imageSrc: "img/CapyChat.webp" },
      { name: "CapyPsico", category: "Chatbots Personalizados", description: "Um chatbot para conversas de apoio e bem-estar emocional.", icon: "🧠", link: "capypsico.html", color: "red", imageSrc: "img/CapyPsico.webp" },
      { name: "CapyHistoriador", category: "Chatbots Personalizados", description: "Converse com um historiador IA sobre eventos passados.", icon: "📜", link: "capyhistoriador.html", color: "lime", imageSrc: "img/CapyHistoriador.webp" },
      { name: "CapyPlanner", category: "Produtividade e Organização", description: "Planeje seu dia, semana ou projetos com IA.", icon: "🗓️", link: "capyplanner.html", color: "emerald", imageSrc: "img/CapyPlanner.webp" },
      { name: "CapyMetas", category: "Produtividade e Organização", description: "Defina e acompanhe suas metas com ajuda da IA.", icon: "🏁", link: "capymetas.html", color: "violet", imageSrc: "img/CapyMetas.webp" },
      { name: "CapyMinutas", category: "Produtividade e Organização", description: "Gereatas e minutas de reuniões automaticamente.", icon: "🗒️", link: "capyminuta.html", color: "trueGray", imageSrc: "img/CapyMinutas.webp" },
      { name: "CapyQuiz", category: "Aprendiz e Educação", description: "Crie e responda quizzes interativos sobre qualquer tema.", icon: "❓", link: "capyquiz.html", color: "lightBlue", imageSrc: "img/CapyQuiz.webp" },
      { name: "CapyTradutor", category: "Aprendiz e Educação", description: "Traduza textos e documentos para diversos idiomas.", icon: "🌐", link: "capytradutor.html", color: "warmGray", imageSrc: "img/CapyTradutor.webp" },
      { name: "CapyDebate", category: "Aprendiz e Educação", description: "Participe de debates simulados com IA sobre temas variados.", icon: "🗣️", link: "capydebate.html", color: "coolGray", imageSrc: "img/CapyDebate.webp" },
      { name: "CapyChart", category: "Análise de Dados", description: "Crie gráficos e visualizações de dados de forma simples.", icon: "📊", link: "capychart.html", color: "orange", imageSrc: "img/CapyChart.webp" },
      { name: "CapyDados", category: "Análise de Dados", description: "Analise conjuntos de dados e extraia insights valiosos.", icon: "📈", link: "CapyDados.html", color: "amber", imageSrc: "img/CapyDados.webp" },
      { name: "CapyFiscal", category: "Análise de Dados", description: "Assistente IA para questões fiscais e tributárias.", icon: "🧾", link: "CapyFiscal.html", color: "yellow", imageSrc: "img/CapyFiscal.webp" },
      { name: "CapyTeste", category: "Recursos Acadêmicos", description: "Prepare-se para provas e testes com simulados IA.", icon: "✔️", link: "capyteste.html", color: "green", imageSrc: "img/CapyTeste.webp" },
      { name: "CapyTCC", category: "Recursos Acadêmicos", description: "Auxílio na estruturação e escrita de trabalhos acadêmicos.", icon: "🎓", link: "capytcc.html", color: "blue", imageSrc: "img/CapyTCC.webp" },
      { name: "CapySolução", category: "Recursos Acadêmicos", description: "Encontre soluções e explicações para problemas complexos.", icon: "🔑", link: "capysolucao.html", color: "indigo", imageSrc: "img/CapySolucao.webp" },
      { name: "CapyDiário", category: "Bem Estar e Autoconhecimento", description: "Um diário inteligente para registrar pensamentos e emoções.", icon: "📔", link: "capydiario.html", color: "pink", imageSrc: "img/CapyDiario.webp" },
      { name: "CapyFlashCards", category: "Recursos Acadêmicos", description: "Crie flashcards para memorizar informações de forma eficiente.", icon: "🧠", link: "capyflashcard.html", color: "amber", imageSrc: "img/CapyFlashCards.webp" },
      { name: "CapyMeditação", category: "Bem Estar e Autoconhecimento", description: "Guias de meditação e relaxamento com IA.", icon: "🧘", link: "capymeditacao.html", color: "purple", imageSrc: "img/CapyMeditacao.webp" }, 
      { name:"CapyExcel", category:"aprendiz e aula", description: "a IA que te ensina Excel", icon:"", link:"capyexcel.html",color: "green", imageSrc:"img/CapyExcel.png"} 
    ];

    const colorClasses = {
        fuchsia: { text: 'text-fuchsia-400', hoverShadow: 'hover:shadow-fuchsia-400/30', bg: 'bg-fuchsia-500', bgIcon: 'bg-fuchsia-400/20' },
        yellow: { text: 'text-yellow-400', hoverShadow: 'hover:shadow-yellow-400/30', bg: 'bg-yellow-500', bgIcon: 'bg-yellow-400/20' },
        sky: { text: 'text-sky-400', hoverShadow: 'hover:shadow-sky-400/30', bg: 'bg-sky-500', bgIcon: 'bg-sky-400/20' },
        pink: { text: 'text-pink-400', hoverShadow: 'hover:shadow-pink-400/30', bg: 'bg-pink-500', bgIcon: 'bg-pink-400/20' },
        rose: { text: 'text-rose-400', hoverShadow: 'hover:shadow-rose-400/30', bg: 'bg-rose-500', bgIcon: 'bg-rose-400/20' },
        teal: { text: 'text-teal-400', hoverShadow: 'hover:shadow-teal-400/30', bg: 'bg-teal-500', bgIcon: 'bg-teal-400/20' },
        cyan: { text: 'text-cyan-400', hoverShadow: 'hover:shadow-cyan-400/30', bg: 'bg-cyan-500', bgIcon: 'bg-cyan-400/20' },
        orange: { text: 'text-orange-400', hoverShadow: 'hover:shadow-orange-400/30', bg: 'bg-orange-500', bgIcon: 'bg-orange-400/20' },
        amber: { text: 'text-amber-400', hoverShadow: 'hover:shadow-amber-400/30', bg: 'bg-amber-500', bgIcon: 'bg-amber-400/20' },
        blue: { text: 'text-blue-400', hoverShadow: 'hover:shadow-blue-400/30', bg: 'bg-blue-500', bgIcon: 'bg-blue-400/20' },
        green: { text: 'text-green-400', hoverShadow: 'hover:shadow-green-400/30', bg: 'bg-green-500', bgIcon: 'bg-green-400/20' },
        indigo: { text: 'text-indigo-400', hoverShadow: 'hover:shadow-indigo-400/30', bg: 'bg-indigo-500', bgIcon: 'bg-indigo-400/20' },
        purple: { text: 'text-purple-400', hoverShadow: 'hover:shadow-purple-400/30', bg: 'bg-purple-500', bgIcon: 'bg-purple-400/20' },
        red: { text: 'text-red-400', hoverShadow: 'hover:shadow-red-400/30', bg: 'bg-red-500', bgIcon: 'bg-red-400/20' },
        lime: { text: 'text-lime-400', hoverShadow: 'hover:shadow-lime-400/30', bg: 'bg-lime-500', bgIcon: 'bg-lime-400/20' },
        emerald: { text: 'text-emerald-400', hoverShadow: 'hover:shadow-emerald-400/30', bg: 'bg-emerald-500', bgIcon: 'bg-emerald-400/20' },
        violet: { text: 'text-violet-400', hoverShadow: 'hover:shadow-violet-400/30', bg: 'bg-violet-500', bgIcon: 'bg-violet-400/20' },
        trueGray: { text: 'text-gray-400', hoverShadow: 'hover:shadow-gray-400/30', bg: 'bg-gray-500', bgIcon: 'bg-gray-400/20' },
        lightBlue: { text: 'text-sky-400', hoverShadow: 'hover:shadow-sky-400/30', bg: 'bg-sky-500', bgIcon: 'bg-sky-400/20' }, 
        warmGray: { text: 'text-stone-400', hoverShadow: 'hover:shadow-stone-400/30', bg: 'bg-stone-500', bgIcon: 'bg-stone-400/20' }, 
        coolGray: { text: 'text-slate-400', hoverShadow: 'hover:shadow-slate-400/30', bg: 'bg-slate-500', bgIcon: 'bg-slate-400/20' }  
    };

    // --- DOM Elements ---
    const toolsGrid = document.getElementById('tools-grid');
    const searchInput = document.getElementById('search-input');
    const categorySelect = document.getElementById('category-select');
    const noToolsMessage = document.getElementById('no-tools-message');
    const currentYearSpan = document.getElementById('current-year');

    // Modal Detalhes Ferramenta
    const toolModal = document.getElementById('toolModal');
    const closeToolModalButton = document.getElementById('closeToolModalButton');
    const modalIconContainer = document.getElementById('modalIconContainer');
    const modalToolName = document.getElementById('modalToolName');
    const modalToolCategory = document.getElementById('modalToolCategory');
    const modalToolDescription = document.getElementById('modalToolDescription');
    const modalToolLink = document.getElementById('modalToolLink');

    // Modal Unificado para API Key e Tutorial
    const manageApiKeysModal = document.getElementById('manageApiKeysModal');
    const openManageApiKeyModalButton = document.getElementById('openManageApiKeyModalButton');
    const closeManageApiKeysModalButton = document.getElementById('closeManageApiKeysModalButton');
    const gotItManageApiKeysButton = document.getElementById('gotItManageApiKeysButton');
    
    // Input e Botão Salvar API Key (dentro do novo modal)
    const geminiApiKeyInputModal = document.getElementById('geminiApiKeyInputModal');
    const saveApiKeyButtonModal = document.getElementById('saveApiKeyButtonModal');
    const API_KEY_STORAGE_PREFIX = 'capyUniverseApiKey_'; 
    const notificationArea = document.getElementById('notificationArea');


    // --- Funções ---
    function addNotification(message, type = 'info') {
        const notificationId = 'notif-' + Date.now();
        const typeClasses = {
            error: 'notification-error',
            success: 'notification-success',
            info: 'notification-info',
            warning: 'notification-warning'
        };

        const notificationDiv = document.createElement('div');
        notificationDiv.id = notificationId;
        notificationDiv.className = `notification ${typeClasses[type] || typeClasses.info}`;
        notificationDiv.innerHTML = `
            <span>${message}</span>
            <button onclick="removeNotification('${notificationId}')">&times;</button>
        `;
        
        notificationArea.appendChild(notificationDiv);
        
        requestAnimationFrame(() => {
            notificationDiv.classList.add('show');
        });

        setTimeout(() => removeNotification(notificationId), 6000);
    }

    window.removeNotification = (id) => { 
        const el = document.getElementById(id);
        if (el) {
            el.classList.remove('show');
            setTimeout(() => el.remove(), 350); 
        }
    };


    function createToolCard(tool, index) {
      const colorTheme = colorClasses[tool.color] || colorClasses.fuchsia;
      const card = document.createElement('div');
      card.className = `group bg-gray-800/80 rounded-xl p-0 shadow-lg hover:shadow-xl ${colorTheme.hoverShadow} transition-all duration-300 ease-in-out card-float overflow-hidden flex flex-col`;
      card.style.animationDelay = `${index * 0.05}s`; 

      Object.keys(tool).forEach(key => {
        card.dataset[key] = tool[key];
      });
      
      card.innerHTML = `
        <div class="aspect-[3/2] w-full bg-gray-700/50 flex items-center justify-center cursor-pointer tool-image-placeholder">
          <img src="${tool.imageSrc || 'https://placehold.co/300x200/4A5568/E2E8F0?text=Imagem+Indispon%C3%ADvel'}" alt="Visualização da ferramenta ${tool.name}" class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300" onerror="this.onerror=null;this.src='https://placehold.co/300x200/4A5568/E2E8F0?text=Erro+ao+Carregar';">
        </div>
        <div class="p-4 flex-grow flex flex-col justify-between">
            <div>
                <h3 class="text-md font-bold text-gray-100 truncate" title="${tool.name}">${tool.name}</h3>
                <p class="text-xs text-gray-400 mb-2 truncate">${tool.category}</p>
            </div>
            <button class="mt-2 text-sm ${colorTheme.text} font-semibold hover:underline text-left w-full open-modal-button">
              Ver Detalhes &rarr;
            </button>
        </div>
      `;
      card.querySelector('.tool-image-placeholder').addEventListener('click', () => openToolModal(tool));
      card.querySelector('.open-modal-button').addEventListener('click', () => openToolModal(tool));
      return card;
    }
    
    function openToolModal(tool) {
      const colorTheme = colorClasses[tool.color] || colorClasses.fuchsia;
      modalIconContainer.innerHTML = `<span class="text-3xl">${tool.icon}</span>`;
      modalIconContainer.className = `w-12 h-12 rounded-full flex items-center justify-center mr-4 text-3xl shadow-inner ${colorTheme.bgIcon} ${colorTheme.text}`;
      modalToolName.textContent = tool.name;
      modalToolCategory.textContent = `Categoria: ${tool.category}`;
      modalToolDescription.textContent = tool.description;
      modalToolLink.href = tool.link;
      modalToolLink.className = `w-full text-center block px-6 py-3 rounded-lg font-semibold text-gray-900 shadow-lg hover:scale-105 transition-transform duration-300 ${colorTheme.bg}`;
      toolModal.classList.remove('modal-hidden');
      toolModal.classList.add('modal-visible');
      document.body.style.overflow = 'hidden';
    }

    function closeToolModal() {
      toolModal.classList.add('modal-hidden');
      toolModal.classList.remove('modal-visible');
      document.body.style.overflow = '';
    }

    function openManageApiModal() {
        loadApiKeyToModal(); // Carrega a chave no input do modal ao abrir
        manageApiKeysModal.classList.remove('modal-hidden');
        manageApiKeysModal.classList.add('modal-visible');
        document.body.style.overflow = 'hidden';
    }

    function closeManageApiModal() {
        manageApiKeysModal.classList.add('modal-hidden');
        manageApiKeysModal.classList.remove('modal-visible');
        document.body.style.overflow = '';
    }

    function displayTools(filteredTools) {
      toolsGrid.innerHTML = '';
      if (filteredTools.length === 0) {
        noToolsMessage.classList.remove('hidden');
      } else {
        noToolsMessage.classList.add('hidden');
        filteredTools.forEach((tool, index) => {
          const card = createToolCard(tool, index);
          toolsGrid.appendChild(card);
        });
      }
    }

    function populateCategories() {
      const categories = [...new Set(toolsData.map(tool => tool.category))].sort();
      categories.forEach(category => {
        const option = document.createElement('option');
        option.value = category;
        option.textContent = category;
        categorySelect.appendChild(option);
      });
    }

    function filterTools() {
      const searchTerm = searchInput.value.toLowerCase();
      const selectedCategory = categorySelect.value;
      const filtered = toolsData.filter(tool => {
        const termCondition = tool.name.toLowerCase().includes(searchTerm) ||
                              tool.category.toLowerCase().includes(searchTerm) ||
                              tool.description.toLowerCase().includes(searchTerm);
        const categoryCondition = selectedCategory ? tool.category === selectedCategory : true;
        return termCondition && categoryCondition;
      });
      displayTools(filtered);
    }

    function saveApiKeyFromModal() {
        const key = geminiApiKeyInputModal.value.trim(); // Pega do input dentro do modal
        if (key) {
            localStorage.setItem(API_KEY_STORAGE_PREFIX + 'gemini', key);
            addNotification('Chave API Gemini salva com sucesso!', 'success');
        } else {
            localStorage.removeItem(API_KEY_STORAGE_PREFIX + 'gemini');
            addNotification('Chave API Gemini removida.', 'warning');
        }
    }

    function loadApiKeyToModal() {
        const storedKey = localStorage.getItem(API_KEY_STORAGE_PREFIX + 'gemini');
        if (storedKey) {
            geminiApiKeyInputModal.value = storedKey; // Coloca no input do modal
        } else {
            geminiApiKeyInputModal.value = ''; // Limpa se não houver chave
        }
    }

    // --- Event Listeners ---
    searchInput.addEventListener('input', filterTools);
    categorySelect.addEventListener('change', filterTools);
    
    // Modal Detalhes Ferramenta
    closeToolModalButton.addEventListener('click', closeToolModal);
    toolModal.querySelector('.modal-overlay-bg').addEventListener('click', closeToolModal); // Alterado para modal-overlay-bg
    toolModal.querySelector('.modal-content').addEventListener('click', (e) => e.stopPropagation());

    // Modal Unificado API Key e Tutorial
    if(openManageApiKeyModalButton) openManageApiKeyModalButton.addEventListener('click', openManageApiModal);
    if(closeManageApiKeysModalButton) closeManageApiKeysModalButton.addEventListener('click', closeManageApiModal);
    if(gotItManageApiKeysButton) gotItManageApiKeysButton.addEventListener('click', closeManageApiModal);
    if(manageApiKeysModal) {
        manageApiKeysModal.querySelector('.modal-overlay-bg').addEventListener('click', closeManageApiModal); // Alterado para modal-overlay-bg
        manageApiKeysModal.querySelector('.modal-content').addEventListener('click', (e) => e.stopPropagation());
    }
    
    // Salvar API Key (botão dentro do novo modal)
    if(saveApiKeyButtonModal) saveApiKeyButtonModal.addEventListener('click', saveApiKeyFromModal);
    
    window.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        if (toolModal.classList.contains('modal-visible')) closeToolModal();
        if (manageApiKeysModal.classList.contains('modal-visible')) closeManageApiModal();
      }
    });
    
    // --- Initial Setup ---
    if (currentYearSpan) {
        currentYearSpan.textContent = new Date().getFullYear();
    }
    populateCategories();
    displayTools(toolsData);
    // Não precisa carregar a chave para um input na página principal agora,
    // ela será carregada no modal quando ele for aberto.
    // loadApiKey(); // Removido daqui

  </script>
  <script>
    // Script do Carrossel (mantido como estava)
    document.addEventListener('DOMContentLoaded', function() {
      const carrossel = document.querySelector('.carrossel');
      const slides = document.querySelectorAll('.carrossel-slide');
      const dots = document.querySelectorAll('.dot');
      
      let currentSlide = 0;
      let isAnimating = false;
      const totalSlides = slides.length;
      let slideInterval;
      
      function initCarrossel() {
        const carrosselWrapper = document.querySelector('.lg\\:w-7\\/12'); 
        if (!carrosselWrapper || getComputedStyle(carrosselWrapper).display === 'none' || !slides || slides.length === 0) {
          return; 
        }

        slides[0].classList.add('active');
        if (dots.length > 0) dots[0].classList.add('active');


        requestAnimationFrame(() => {
          const initialSlideHeight = slides[0].scrollHeight;
          if (carrossel) carrossel.style.height = `${initialSlideHeight}px`;
        });
        
        startAutoPlay();
        
        dots.forEach((dot, index) => {
          dot.addEventListener('click', () => goToSlide(index));
        });
        
        if(carrossel) {
            carrossel.addEventListener('mouseenter', pauseAutoPlay);
            carrossel.addEventListener('mouseleave', startAutoPlay);
        }
      }
      
      function updateCarrossel(newSlideIndexOrDirection) {
        if (isAnimating || !slides || slides.length === 0) return;
        isAnimating = true; 
        
        const oldSlideIndex = currentSlide;
        let newSlideIndex;
        
        if (typeof newSlideIndexOrDirection === 'string') {
          newSlideIndex = (newSlideIndexOrDirection === 'next') ? (oldSlideIndex + 1) % totalSlides : (oldSlideIndex - 1 + totalSlides) % totalSlides;
        } else {
          newSlideIndex = newSlideIndexOrDirection; 
        }
        
        if (oldSlideIndex === newSlideIndex) {
          isAnimating = false; 
          return;
        }

        const oldSlide = slides[oldSlideIndex];
        const newSlide = slides[newSlideIndex];

        if (dots.length > oldSlideIndex) dots[oldSlideIndex].classList.remove('active');
        if (dots.length > newSlideIndex) dots[newSlideIndex].classList.add('active');
        
        newSlide.classList.add('active');
        oldSlide.classList.remove('active');
        
        currentSlide = newSlideIndex;

        requestAnimationFrame(() => {
          const newSlideHeight = newSlide.scrollHeight; 
          if (carrossel) carrossel.style.height = `${newSlideHeight}px`;
        });
        
        setTimeout(() => {
          isAnimating = false;
        }, 700); 
      }
      
      function prevSlide() { updateCarrossel('prev'); resetAutoPlay(); }
      function nextSlide() { updateCarrossel('next'); resetAutoPlay(); }
      function goToSlide(index) { if (isAnimating || index === currentSlide) return; updateCarrossel(index); resetAutoPlay(); }
      
      function startAutoPlay() {
        pauseAutoPlay();
        if (slides.length > 1) { 
            slideInterval = setInterval(() => { if (!document.hidden) { nextSlide(); }}, 7000);
        }
      }
      
      function pauseAutoPlay() { clearInterval(slideInterval); }
      function resetAutoPlay() { pauseAutoPlay(); startAutoPlay(); }
      
      document.addEventListener('visibilitychange', () => {
        if (document.hidden) { pauseAutoPlay(); } else { startAutoPlay(); }
      });
      
      initCarrossel();
    });
    if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('service-worker.js')
    .then(() => console.log('Service Worker registrado'))
    .catch(err => console.error('Erro no SW', err));
}

  </script>


  </body>
</html>

